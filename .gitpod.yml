image: 
  file: .gitpod.Dockerfile

tasks:
  - name: Set .NET Environment Variables
    before: | 
      gp env DOTNET_ENVIRONMENT=Development 
      gp env DOTNET_URLS=http://localhost:5000
      eval $(gp env -e)
  - name: Disable .NET Welcome Message
    before: touch "$HOME"/dotnet/"$(dotnet --version)".dotnetFirstUseSentinel
  - name: Run RavenDB Docker Container
    command: docker run --rm -d -p 8080:8080 -p 38888:38888 --name RavenDB -e RAVEN_Setup_Mode=None -e RAVEN_License_Eula_Accepted=true -e RAVEN_Security_UnsecuredAccessAllowed=PublicNetwork ravendb/ravendb

ports:
  - port: 5000
    onOpen: open-browser
    visibility: private
  - port: 8080
    onOpen: open-browser
    visibility: private

vscode:
  extensions:
    - muhammad-sammy.csharp
